plugins {
    java
    application
}

application {
    mainClass.set("net.minestom.codegen.Generators")
}

dependencies {
    implementation("com.google.code.gson:gson:2.8.9")
    implementation("org.jetbrains:annotations:22.0.0")
    implementation("com.squareup:javapoet:1.13.0")
    // Logging
    implementation("org.apache.logging.log4j:log4j-core:2.14.1")
    // SLF4J is the base logger for most libraries, therefore we can hook it into log4j2.
    implementation("org.apache.logging.log4j:log4j-slf4j-impl:2.14.1")
    // Contains the json files
    implementation("com.github.Minestom:MinestomDataGenerator:47da93dd5a99280314d7e6137d2c81e7793f0fdb")
}

java {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
}

tasks {
    getByName<JavaExec>("run") {
        args = listOf(project.rootProject.projectDir.path + "${File.separatorChar}src${File.separatorChar}autogenerated${File.separatorChar}java")
    }
}
